<!DOCTYPE html>
<html><head><meta charset="utf-8"/>
<title>同期処理try</title>
</head>

<body></body>

<script type="text/javascript">

	const exe = str => document.body.innerHTML += " → " + str;

	let promise = new Promise( (resolve, reject) => {
		exe("①");
		resolve("②");
	});

	promise.then( num => {

		return new Promise( (resolve, reject) => {
			setTimeout(() => {
				setTimeout(() => exe("TRY"),0);  // この処理は最後になってしまう(要プロミス化)
				resolve("③");
				exe( num );                      // ！その後の処理もOKっぽい
			}, 300)
		})
	
	// メソッドチェーン（プロミス化を繰り返せばプロミスチェーン？）
	}).then( num => {
		exe( num );
		return "④";
	}).then( num => exe( num )).then( exe( "Last" ));

</script>
</html>
