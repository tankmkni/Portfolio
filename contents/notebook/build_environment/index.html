<!DOCTYPE html>
<html>
<head><meta charset="utf-8"/>
	<link rel="stylesheet" href="../css/basic.css">
	<script type="text/javascript" src="../js/common.js"></script>
	<title>Build Environment</title>
</head>
<body>
<h1>メモ：環境構築を体験</h1>
<h4>仮想マシンでLinuxを使ってアプリケーションサーバーにUPしたアプリを実行させたい</h4>
<div>目標：VirtualboxでCentOSを使ってTomcatをインストールしてdocoTubuを実行する</div>

<hr><h4>目次:</h4><ul style="list-style:none;">
<li><a href="#virtualbox_install">１・Virtualboxのインストール</a></li>
<li><a href="#centos_install">２・CentOSのインストール</a></li>
<li><a href="#jdk_install">３・JDK8のインストール</a></li>
<li><ul>
	<li><a href="#connection_confirmation">3.1 ネットーワークを利用できるかを確認</a></li>
	<li><a href="#connect">3.2 ネットーワークを接続</a></li>
	<li><a href="#jdk8_install">3.3 JDK8のインストール</a></li>
</ul></li>
<li><a href="#"></a></li>
</ul><hr>
<h3 id="virtualbox_install">１・Virtualboxのインストール</h3>
<a href="https://www.virtualbox.org/">Oracle VirtualBox</a>
<div>公式サイトからダウンロードしてガイドに沿ってインストールするだけなので、難しいことは特に無し。<br/>
細かいやり方はネットで検索すると大量にでてくるのでそれらを参考にする。</div>
<div>今回はバージョン 6.1.16 を入手</div>
<h5>参考になったサイト</h5>
<a href="https://www.sejuku.net/blog/72833">いまさら聞けない！Virtualboxとは何か？基礎の基礎を解説！</a><br/>
<a href="https://sukkiri.jp/technologies/virtualizers/virtualbox/virtualbox-win_install.html">OracleVM VirtualBoxのインストール手順＜Windows向け＞</a><br/>
<br/><br/><br/>

<h3 id="centos_install">２・CentOSのインストール</h3>
<a href="https://www.centos.org/">CentOS 公式サイト</a><br/>
<div>上記からCentOS-7のisoファイルをダウンロード<br/>
Virtualboxに新規で仮想マシンを作成し、
<dl><dt>設定→ネットワーク</dt>
<dd>アダプター１→ブリッジアダプター</dd>
<dd>アダプター２→ホストオンリーアダプター</dd></dl>
設定→ストレージ→コントローラー：IDEにダウンロードしたisoファイルをセット<br/>
起動するとインストールが始まる<br/><br/>
インストールが終わったらisoファイルを除去しておかないと、起動のたびにインストールし直すことになってしまう</div>
<h5>参考になったサイト</h5>
<a href="https://qiita.com/tamago3keran/items/260899458959d3214dcf">VirtualBoxにCentOSをインストール</a><br/>
<a href="https://www.kakiro-web.com/virtualbox/virtualbox-create-virtual-machine-centos.html">VirtualBoxにCentOS7用の仮想マシンを作成</a><br/>
<a href="https://qiita.com/hirooka0527/items/10821f5490738328b442">VirtualBoxのブリッジアダプターを使ってみる。</a><br/>
<a href="https://wa3.i-3-i.info/word15502.html">わわわIT用語辞典 > セントオーエス (CentOS)</a><br/>
<a href="https://wa3.i-3-i.info/word12472.html">わわわIT用語辞典 > Linuxディストリビューション</a><br/>
<a href="https://wa3.i-3-i.info/word17621.html">わわわIT用語辞典 > isoファイル</a><br/>
<a href="https://wa3.i-3-i.info/word11978.html">わわわIT用語辞典 > NAT</a><br/>
<br/><br/><br/>

<h3 id="jdk_install">３・JDK8のインストール</h3>
<div>Tomcatはjavaで作られているので、JDKのインストールが必要</div>
<div><dl><dt>ダウンロード方法の選択肢</dt>
<dd>①・ホストのWindowsにダウンロードしたファイルを転送</dd>
<dd>②・CentOSからネットに接続して直にダウンロード</dd></dl></div>
<div>今回は②でトライ</div>
<br/><br/>

<h4 id="connection_confirmation">3.1 ネットーワークを利用できるかを確認</h4>
<h5><code>ping google.com</code></h5>
<img src="img/3.1/ping_google.PNG">
<div>反応が返ってこない</div>
<h5><code>ip addr show</code></h5>
<img src="img/3.1/ip_addr_show.PNG">
<div>繋がっていない、ようだ</div>
<h5>参考になったサイト</h5>
<a href="https://weblabo.oscasierra.net/installing-tomcat9-centos7-1/">Apache Tomcat 9 を CentOS 7 にインストールする手順</a><br/>
<a href="https://www.atmarkit.co.jp/ait/articles/1709/22/news019.html">【 ip 】コマンド（基礎編）</a><br/>
<a href="https://qiita.com/ponsuke0531/items/b61eeefdad9bb5e2ac28">CentOS7において「ip addr show」の結果をちょっと理解できるように調べた記録</a><br/>
<a href="https://www.atmarkit.co.jp/ait/articles/0610/14/news021.html#:~:text=127.0.0.1%E3%81%AF%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%83%BB%E3%83%AB%E3%83%BC%E3%83%97,IP%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%82%92%E5%88%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E3%80%82">ローカル・ループバック・アドレス（127.0.0.1）とは？</a><br/>
<br/><br/>

<h4 id="connect">3.2 ネットーワークを接続</h4>
<h5>別の確認方法&emsp;<code>nmcli d</code></h5>
<img src="img/3.2/nmcli_d.PNG">
<h5>ensp0s3を接続&emsp;<code>nmcli connection up enp0s3</code></h5>
<img src="img/3.2/nmcli_connection_up.PNG">
<div>繋がった！、かな？</div>
<h5>確認&emsp;<code>nmcli d</code></h5>
<img src="img/3.2/nmcli_d_2.PNG">
<div>繋がった！</div>
<div>※これだけだと、再起動のたびに再接続が必要</div>
<h5><code>ping google.com -c 3</code>&emsp;（-c オプションで３回と指定）</h5>
<img src="img/3.2/ping_google_2.PNG">
<div>反応する！</div>
<h5>グーグルサイトに繋いでみる&emsp;<code>curl google.com</code></h5>
<img sC:\Users\tankm\OneDrive\デスクトップ\xampp\Products\Portfolio\contents\notebook\build_environment\index.htmlrc="img/3.2/curl_google.PNG">
<div>あれ？&emsp;エラーなしリターンなしで永久ループ？&emsp;Ctrl + c で離脱</div>
<h5><code>curl -4 google.com</code>&emsp;にすると</h5>
<img src="img/3.2/curl_-4_google.PNG">
<div>取得できた</div>
<h5>参考になったサイト</h5>
<a href="https://qiita.com/C_HERO/items/b05b59f8b67804b421e2">【VirtualBox】CentOS8をインスト―ルしてネットワーク接続するまで</a><br/>
<a href="http://blog.livedoor.jp/sce_info3-craft/archives/9868900.html">curlなどのレスポンスが遅いとき(ipv6のDNSに接続できず)</a><br/>
<br/><br/><br/>

<h4 id="jdk8_install">3.3 JDK8のインストール</h4>
<div>3.3.1<a href="https://www.oracle.com/java/technologies/javase-downloads.html">オラクルのダウンロードページ</a>
から欲しいJDKのライセンス規約同意後のダウンロードリンクをコピーしておく</div>
<img src="img/3.3/jdk_download.PNG" style="max-width:80%">
<div>3.3.2&emsp;CentOSへダウンロード（絶対パスだからコード長い(泣)）</div>
<h5><code>curl</code> &ensp;でrpmファイルをダウンロード</h5>
<code>curl -OL --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" https://www.oracle.com/webapps/redirect/signon?nexturl=https://download.oracle.com/otn/java/jdk/8u271-b09/61ae65e088624f5aaa0b1d2d801acb16/jdk-8u271-linux-x64.rpm</code><br/>
<img src="img/3.3/curl_OL.PNG" style="max-width:80%">
<div>アーカイブファイルが作成されている</div>
<h5>CentOSへのインストール</h5>
<code>rem -ivh FileName</code><br/>
<img src="img/3.3/rpm_ivh.PNG" style="max-width:80%">
<div>あれ!?&emsp;エラーだ</div>
<code>yum install FileName</code><br/>
<img src="img/3.3/yum_install.PNG" style="max-width:80%">
<div>こっちでもダメだ</div>
<div>公式ページのファイルサイズ</div>
<img src="img/3.3/official.PNG" style="max-width:80%">
<div>Windowsでダウンロードしたファイルのサイズ</div>
<img src="img/3.3/property.PNG" style="max-width:80%">
<div>CentOSにダウンロードしたファイルのサイズ</div>
<img src="img/3.3/CentOS_size.PNG" style="max-width:80%">
<div>" 4098 "(B?&ensp;KB?)では小さすぎる<br/>
ちゃんとダウンロードできていなかったようだ</div>
<div>他のファイルもダウンロード</div>
<img src="img/3.3/three.PNG" style="max-width:80%">
<div>三つとも完全にはダウンロードできていないよう</div>
<code>rm FileName</code><br/>
<img src="img/3.3/rm.PNG" style="max-width:80%">
<div>何回かファイルを削除してやり直してもダメ</div><br/>
<code>rpm FileName</code><br/>
<img src="img/3.3/rpm.PNG" style="max-width:80%">





<h5>参考になったサイト</h5>
<a href="https://qiita.com/hidekuro/items/6bcf88ec7e233fb9cf79">wget/curlでOracleJDKをダウンロード</a><br/>
<a href=""></a><br/>
<a href=""></a><br/>
<a href=""></a><br/>
<a href=""></a><br/>
<a href=""></a><br/>
<br/><br/>
<div>たかがここまでで四苦八苦…<br/>
まだまだ先が長そうですが、だらだらと更新していきます<br/></div>
<br/><button onclick="history.back()">戻る</button>
<br/><br/><br/>
</body>
</html>
